import {names as i} from "./instructions.js";

const p = (...it) => it.reduce((acc, d) => acc << 4 | d);

export const compile = () => {
    return new Uint16Array([
        p(i.poke, 0x7, 0x0), 0x0000,
        p(i.poke, 0x7, 0x1), 0x0001,
        p(i.poke, 0x7, 0x2), 0x0002,
        p(i.add, 0x0, 0x0, 0x7), 0x0001,
        p(i.add, 0x1, 0x1, 0x7), 0x0001,
        p(i.add, 0x1, 0x1, 0x0),
        p(i.add, 0x2, 0x1, 0x0),
        p(i.jeq, 0x0, 0x0, 0x7), 0x8000,
    ]);
};
